<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>王者照片墙</title>
    <style>
        #img {
            width:1503px;
            height:752px;
            margin:50px auto;
            perspective:700px;
            -webkit-perspective:700px;
        }
        #img img {
            width:150px;
            height:150px;
            float:left;
        }
        #btn {
            width:100px;
            height:40px;
            line-height:40px;
            text-align:center;
            font-size:16px;
            color:#000;
            background:#0fc;
            border-radius:5px;
            margin:0 auto;
            padding:5px 5px;
            cursor:pointer;
        }

    </style>
</head>
<body>
<div id="img">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1232515778,2613922528&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3982810327,2456239181&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1832560599,563898232&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1740407511,1814531672&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=820178997,126179748&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=4222277742,1895117563&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3201734427,197664118&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2807876868,1795666784&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1208364756,2444828250&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3960889908,3824079453&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2260520927,3013181320&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1872155890,4143474408&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=978077304,998674219&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=543923323,1108749023&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1123004244,3865129098&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3607122093,3943414485&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3221501870,2404625973&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=2392783397,89568157&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=559969083,3305958999&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1581497838,4231969472&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=398883394,1667724940&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1656082347,1770566000&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2257830815,2353006562&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1058687368,4203706711&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1946537888,3197033013&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3167774642,615981676&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1115585334,3957280343&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3191116990,241896284&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1391267052,1057536515&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=368087572,1242146150&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=626151585,4244353665&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3491498392,3103946123&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3912819451,2720548273&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3010036800,1262057651&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=393053902,2590073534&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1361649956,989185471&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3575623820,3284347121&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3859672891,3061210946&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1939129283,3581641845&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=1047494214,331629113&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1373744190,1985516841&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=899654558,2403170007&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3078184240,4140535959&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1869837174,3359387106&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1363358505,1634443137&fm=27&gp=0.jpg" alt="">
    <img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=4237729695,388392280&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1934910687,4270830231&fm=27&gp=0.jpg" alt="">
    <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1790467867,2717619761&fm=27&gp=0.jpg" alt="">
    <img src="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=3274110582,1949365838&fm=27&gp=0.jpg" alt="">
    <img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3441341979,1166727428&fm=27&gp=0.jpg" alt="">
</div>
<div id="btn">点我</div>
<script>
    /*
     1.闪的效果（瞬间高度宽度变为0，scale,随机）
     2.图片由小变大，同时透明度由1-0
     3.图片旋转，同时透明度由0-1
     */
    window.onload = function() {
        var btn = document.getElementById('btn');
        var imgs = document.getElementsByTagName("img");
        var on = true;

        btn.onclick = function() {
            if (!on) {
                return;
            }
            on = false;
            var endNum = 0; //运动完成的图片数量
            for (var i = 0; i < imgs.length; i++) {
                (function(i) {
                    setTimeout(function() {
                        montion(imgs[i], '1s', function() {
                            this.style.transform = 'scale(0)';
                        }, function() {
                            montion(this, "1s", function() {
                                this.style.transform = 'scale(1)';
                                this.style.opacity = '0';
                            }, function() {
                                endNum++;
                                if (endNum == imgs.length) {
                                    toBig();
                                }
                            })
                        })
                    }, Math.random() * 1000);
                })(i)
            }


        };

        //第三个效果
        function toBig() {
            /*
             坐标轴（X，Y,z）
             */
            var allEnd = 0;
            for (var i = 0; i < imgs.length; i++) {
                imgs[i].style.transition = "";
                imgs[i].style.transform = 'rotateY(0deg) translateZ(-' + Math.random() * 500 + 'px)';
                (function(i) {
                    setTimeout(function() {
                        montion(imgs[i], '2s', function() {
                            this.style.opacity = 1;
                            this.style.transform = 'rotateY(-360deg) translateZ(0)';
                        }, function() {
                            allEnd++;
                            if (allEnd == imgs.length) {
                                on = true;
                            }
                        });
                    }, Math.random() * 1000);
                })(i)
            }
        }

        //运动函数（运动的对象，时间，属性函数，回调）
        function montion(obj, time, doFn, callBack) {
            obj.style.transition = time;
            doFn.call(obj); //调用函数，并把this的指向给obj
            var called = false
            obj.addEventListener('transitionend', function() {
                if (!called) {
                    callBack && callBack.call(obj);
                    called = true;
                }
            }, false);
        }
    }
</script>
</body>
</html>