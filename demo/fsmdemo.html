<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .light{
            display:inline-block;
            width:31%;
            padding-top:31%;
            border-radius:50%;
        }
        .light-red{
            background:red;
        }
        .light-yellow{
            background:#eee;
        }
        .light-green{
            background:#eee;
        }
        button{
            padding:30px;
            font-size:4rem;
            background:lightblue;
            border-radius:10px;
            outline:none;
        }
    </style>
    <script src="//cdn.bootcss.com/jquery/3.2.0/jquery.min.js"></script>

</head>
<body>


<div class="light-wrapper" id="light_wrapper">
    <div class="light light-red" id="light_red"></div>
    <div class="light light-yellow" id="light_yellow"></div>
    <div class="light light-green" id="light_green"></div><br>
    <button id="btn">test</button>
    <!--<button id="btn1" onclick="trafficLight.yellow()">test1</button>-->
    <!--<button id="btn2" onclick="trafficLight.green()">test2</button>-->
    <button id="btn3">test3</button>
</div>

<script>
    var trafficLight = {
        state:"red",
        lastState:"yellow",
        trans:function(){
            switch (this.state){
                case"red":
                    this.lastState = this.state;
                    this.state = "yellow";
                    break;
                case"green":
                    this.lastState = this.state;
                    this.state = "yellow";
                    break;
                case"yellow":
                    if (this.lastState == "red"){
                        this.state = "green";
                    }
                    else {
                        this.state = "red";
                    }
                    break;
                default:
                    this.state = "red";
                    this.lastState = "yellow";
                    break;
            }
        },
        event:function(){
            this.trans()
        }
    };
//    $("btn3").on("click",function(){
//        trafficLight.event();
//        switch (trafficLifht.state){
//            case"red":
//                $("#light_red").css({"width":"20px"});
//                break;
//        }
//    });
    $("#btn").on("click",function(){
        trafficLight.event();
        switch (trafficLight.state){
            case"red":
                $("#light_red").css({"background":"red"});
                $("#light_yellow").css({"background":"#eee"});
                $("#light_green").css({"background":"#eee"});
                break;
            case"yellow":
                $("#light_red").css({"background":"#eee"});
                $("#light_yellow").css({"background":"yellow"});
                $("#light_green").css({"background":"#eee"});
                break;
            case"green":
                $("#light_red").css({"background":"#eee"});
                $("#light_yellow").css({"background":"#eee"});
                $("#light_green").css({"background":"green"});
                break;
            default:
                break;
        }
    })
</script>
</body>
</html>